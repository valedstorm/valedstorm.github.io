<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hello World</title>
    <url>/unknown/20240406/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>. </p>
<span id="more"></span>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
      <categories>
        <category>unknown</category>
      </categories>
  </entry>
  <entry>
    <title>官方 ESM 概念說明</title>
    <url>/javascript/20240430/%E5%AE%98%E6%96%B9%20ESM%20%E6%A6%82%E5%BF%B5%E8%AA%AA%E6%98%8E/</url>
    <content><![CDATA[<p>參考資料：</p>
<ol>
<li><a href="https://juejin.cn/post/7000744621315719176">Vite + React &amp;&amp; 原理浅析 + 踩坑指南</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Modules">JavaScript模块 | MDN</a></li>
</ol>
<p>ESM (ECMAScript Module又稱Javascript模塊)<br>以下為官方論述：</p>
<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>Javascript程序原本很小、在早期，它們大多被用來執行<code>獨立的腳本任務</code>，在Web頁面需要的地方提供一定交互。近年來，我們有了<code>大量運行Javascript腳本的複雜程序</code>，人們開始尋找一種拆分Javascript程序、並按需導入的方法，這就是<code>單獨模塊機制</code>。——《官方論述》</p>
<p>簡單來說，ESM就是對原生Javascript加上「單獨模塊機制」的特性功能。</p>
<h1 id="mjs與-js"><a href="#mjs與-js" class="headerlink" title=".mjs與.js"></a>.mjs與.js</h1><p>綜觀此文，我們使用.js作為模塊文件的擴展名，你可能在不同地方看到.mjs擴展名的使用，這是V8引擎推薦的作法。——《官方論述》<br>理由如下：</p>
<ul>
<li>可以區分出哪些文件是模塊、哪些文件是一般的Javascript腳本</li>
</ul>
<p>為了使模塊可以在瀏覽器或服務器(NodeJS)中正常工作、確保代碼的可移植性，我們決定繼續使用.js擴展名，這是因為多數服務器可以正常的處理.js文件，但對.mjs的支持還不行。</p>
<p>如果你認為使用.mjs帶來的清晰性非常重要，仍然可以在開發過程中使用.mjs擴展名，建置過程中將其轉換為.js。</p>
<h1 id="導出模塊的功能"><a href="#導出模塊的功能" class="headerlink" title="導出模塊的功能"></a><code>導出模塊</code>的功能</h1><p>為了獲得模塊功能要做的第一件事是把它們導出來，使用export語句。<br>最簡單的方法是把export加到你要導出的項的前面：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span>(<span class="params"></span>) &#123; … &#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Square</span> &#123; … &#125;</span><br></pre></td></tr></table></figure>
<p>另一種方法是在模塊文件的末尾使用export語句，加上大括號括起來、逗號分割的列表：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123; xxx, yyy, zzz &#125;;</span><br></pre></td></tr></table></figure>

<h1 id="導入功能到你的腳本"><a href="#導入功能到你的腳本" class="headerlink" title="導入功能到你的腳本"></a>導入功能到你的腳本</h1><p>如果你想要在模塊外使用功能，就需要導入才可以作使用。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; xxx, yyy, zzz &#125; <span class="keyword">from</span> <span class="string">&quot;./../xxx.js&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>導入、導出名稱要一樣。<br>備註：在一些模塊系統中可以省略文件擴展名，但這在原生Javascript中<code>不工作</code>。</p>
<h1 id="應用模塊到你的HTML"><a href="#應用模塊到你的HTML" class="headerlink" title="應用模塊到你的HTML"></a>應用模塊到你的HTML</h1><p>現在我們只需要將xxx.js應用到你的HTML頁面。<br>需要指定type&#x3D;”module”，聲明這個腳本是一個模塊：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span> <span class="attr">src</span>=<span class="string">&quot;xxx.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="默認導出"><a href="#默認導出" class="headerlink" title="默認導出"></a>默認導出</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params"></span>) &#123; … &#125;</span><br></pre></td></tr></table></figure>
<p>default在export之後。<br>在末尾時，<code>不要大括號</code>。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Square</span>;</span><br></pre></td></tr></table></figure>
<p>沒有大括號的原因是一個模塊只允許有一個默認導出。</p>
<h1 id="命名衝突之重命名導出、導入"><a href="#命名衝突之重命名導出、導入" class="headerlink" title="命名衝突之重命名導出、導入"></a>命名衝突之重命名導出、導入</h1><p>在import、export語句中，可以使用 {原本名稱 as 新名字} 來改變它原先的標識名稱。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; func1 <span class="keyword">as</span> newFunc1 &#125; <span class="keyword">from</span> <span class="string">&quot;xxx.js&quot;</span>;</span><br></pre></td></tr></table></figure>

<h1 id="創建模塊對象"><a href="#創建模塊對象" class="headerlink" title="創建模塊對象"></a>創建<code>模塊對象</code></h1><p>上面的工作方法固然很好，但還是有一點混亂、亢长。一個更好的方法是，導入每一個模塊功能到一個模塊功能的<code>對象</code>上。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> <span class="title class_">Module</span> <span class="keyword">from</span> <span class="string">&quot;xxx.js&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>使用星號(*)會把整個模塊文件中所有的功能導入至你的腳本，造成Tree Shaking問題：<br>Tree Shaking是一種優化的技術，它可以去除未使用的程式碼，以減少最終打包的大小；如果整個模組都被引入，即使只使用了一部份功能，也無法進行Tree Shaking。</p>
<p>Tree Shaking的意味為「當你用力搖晃一棵樹時，樹上就只會保留綠葉，而其他枯葉都會掉落在地上」；綠葉就是指打包後的文件，真正有被使用到程式碼的部分。——《精準的打包Webpack 的 Tree Shaking》</p>
<h1 id="模塊與類-Class"><a href="#模塊與類-Class" class="headerlink" title="模塊與類(Class)"></a>模塊與類(Class)</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Square</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123; … &#125;</span><br><span class="line">  <span class="title function_">draw</span>(<span class="params"></span>) &#123; … &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然後我們導出：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123; <span class="title class_">Square</span> &#125;;</span><br></pre></td></tr></table></figure>
<p>在你的腳本中導入、並使用：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Square</span> &#125; <span class="keyword">from</span> <span class="string">&quot;xxx.js&quot;</span>;</span><br><span class="line">square1 = <span class="keyword">new</span> <span class="title class_">Square</span>();</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>javascript</category>
      </categories>
  </entry>
  <entry>
    <title>建立 Vite + Electron 專案的配置手冊</title>
    <url>/electron/20240407/%E5%BB%BA%E7%AB%8B%20Vite%20+%20Electron%20%E5%B0%88%E6%A1%88%E7%9A%84%E9%85%8D%E7%BD%AE%E6%89%8B%E5%86%8A/</url>
    <content><![CDATA[<p>這是建立一個Electron開發、打包的基本手冊</p>
<span id="more"></span>
<h1 id="序"><a href="#序" class="headerlink" title="序"></a>序</h1><ol>
<li>進入資料夾</li>
</ol>
<h2 id="Git-Bash-Vite"><a href="#Git-Bash-Vite" class="headerlink" title="Git Bash (Vite)"></a>Git Bash (Vite)</h2><ol>
<li>npm create vite@latest</li>
<li>輸入project name “kanban” &gt; 選vue &gt; 選ts</li>
<li>cd kanban</li>
<li>npm install</li>
<li>npm run dev 跑起來開發環境試試看</li>
</ol>
<h2 id="Git-Bash-Git"><a href="#Git-Bash-Git" class="headerlink" title="Git Bash (Git)"></a>Git Bash (Git)</h2><ol>
<li>git init 代碼倉庫初始化 &amp; 提交</li>
<li>git add .</li>
<li>git commit -m ‘Initial commit’</li>
</ol>
<h1 id="VSCode"><a href="#VSCode" class="headerlink" title="VSCode"></a>VSCode</h1><ol>
<li>vscode 打開專案資料夾<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 目標 &gt; 專案目錄架構</span></span><br><span class="line"><span class="comment">// ./</span></span><br><span class="line"><span class="comment">// ├─┬─┬ electron-main</span></span><br><span class="line"><span class="comment">// │ │ └── index.ts</span></span><br><span class="line"><span class="comment">// ├─┬─┬ electron-preload</span></span><br><span class="line"><span class="comment">// │ │ └── preload.ts</span></span><br><span class="line"><span class="comment">// │ │</span></span><br><span class="line"><span class="comment">// ├─┬─┬ dist</span></span><br><span class="line"><span class="comment">// │ │ └── index.html</span></span><br><span class="line"><span class="comment">// │ │</span></span><br><span class="line"><span class="comment">// │ ├─┬ dist-electron</span></span><br><span class="line"><span class="comment">// │ │ ├── main.js</span></span><br><span class="line"><span class="comment">// │ │ └── preload.js</span></span><br><span class="line"><span class="comment">// │</span></span><br><span class="line"><span class="comment">// 參考來源: 使用electron-vite工具建立出來的專案中 electron/main.ts內提到的</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Electron-安裝包"><a href="#Electron-安裝包" class="headerlink" title="Electron 安裝包"></a>Electron 安裝包</h2><ol>
<li>npm install -D electron</li>
</ol>
<h2 id="新增-electron-main-以及-electron-preload-內檔案"><a href="#新增-electron-main-以及-electron-preload-內檔案" class="headerlink" title="新增 electron-main 以及 electron-preload 內檔案"></a>新增 electron-main 以及 electron-preload 內檔案</h2><ol>
<li>新增electron-main資料夾 裡面放index.ts<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// electron-main/index.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; app, <span class="title class_">BrowserWindow</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;electron&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> path <span class="keyword">from</span> <span class="string">&#x27;path&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">createWindow</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> win = <span class="keyword">new</span> <span class="title class_">BrowserWindow</span>(&#123;</span><br><span class="line">    <span class="attr">webPreferences</span>: &#123;</span><br><span class="line">      <span class="attr">contextIsolation</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">nodeIntegration</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">preload</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;./preload.js&#x27;</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> !== <span class="string">&#x27;development&#x27;</span>) &#123;</span><br><span class="line">    win.<span class="title function_">loadFile</span>(path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;../dist/index.html&#x27;</span>));</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    win.<span class="title function_">loadURL</span>(<span class="string">&#x27;http://localhost:5173&#x27;</span>);</span><br><span class="line">    win.<span class="property">webContents</span>.<span class="title function_">openDevTools</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">whenReady</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">createWindow</span>();</span><br><span class="line">  app.<span class="title function_">on</span>(<span class="string">&#x27;activate&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">BrowserWindow</span>.<span class="title function_">getAllWindows</span>().<span class="property">length</span> === <span class="number">0</span>) <span class="title function_">createWindow</span>();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">on</span>(<span class="string">&#x27;window-all-closed&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (process.<span class="property">platform</span> !== <span class="string">&#x27;darwin&#x27;</span>) app.<span class="title function_">quit</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>新增electron-preload資料夾 裡面放preload.ts<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// electron-preload/preload.ts</span></span><br><span class="line"><span class="keyword">import</span> os <span class="keyword">from</span> <span class="string">&#x27;os&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;platform&#x27;</span>, os.<span class="title function_">platform</span>());</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="tsconfig-json"><a href="#tsconfig-json" class="headerlink" title="tsconfig.json"></a>tsconfig.json</h2><ol>
<li>修改tsconfig.json 內的include數組字段 裡面包含需要經過ts編譯的檔案位置<ol>
<li>加入 “electron-main&#x2F;**&#x2F;*.ts” 以及 “electron-preload&#x2F;**&#x2F;*.ts”</li>
</ol>
</li>
</ol>
<h2 id="vite-config-ts"><a href="#vite-config-ts" class="headerlink" title="vite.config.ts"></a>vite.config.ts</h2><ol>
<li>npm install -D vite-plugin-electron vite-plugin-electron-renderer</li>
<li>修改vite.config.ts 結合vite與electron兩種技術<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&#x27;@vitejs/plugin-vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> electron <span class="keyword">from</span> <span class="string">&#x27;vite-plugin-electron/simple&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> path <span class="keyword">from</span> <span class="string">&#x27;path&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// https://vitejs.dev/config/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">vue</span>(),</span><br><span class="line">    <span class="title function_">electron</span>(&#123;</span><br><span class="line">      <span class="attr">main</span>: &#123;</span><br><span class="line">        <span class="attr">entry</span>: <span class="string">&#x27;electron-main/index.ts&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">preload</span>: &#123;</span><br><span class="line">        <span class="attr">input</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;electron-preload/preload.ts&#x27;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">renderer</span>: &#123;&#125;,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 參考來源: 為electron-vite建立出來的專案中vite.config.ts所使用的方法https://electron-vite.github.io/guide/core-plugins.html#vite-plugin-electron-simple</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h2><ol>
<li>刪除 “type”: “module”字段 改成 “main”: “dist-electron&#x2F;index.js” 宣告electron專案的入口位置</li>
<li>修改dev指令為 chcp 65001 &amp;&amp; vite 支援中文 避免亂碼<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;kanban&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;private&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dist-electron/index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;chcp 65001 &amp;&amp; vite&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vue-tsc &amp;&amp; vite build&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;preview&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite preview&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.4.21&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@vitejs/plugin-vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.0.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;electron&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^29.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;electron-builder&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^24.13.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;typescript&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.2.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vite&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vite-plugin-electron&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.28.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vite-plugin-electron-renderer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.14.5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue-tsc&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.6&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 參考來源: https://juejin.cn/post/7244351125448900664</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h1><ol>
<li>因為很重要 所以拉出來獨立成一個主題來講</li>
<li>npm install -D electron-builder</li>
</ol>
<h2 id="package-json-1"><a href="#package-json-1" class="headerlink" title="package.json"></a>package.json</h2><ol>
<li>修改build指令 改成 vue-tsc &amp;&amp; vite build &amp;&amp; electron-builder</li>
<li>添加build字段 指定建構時的選項<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;kanban&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;private&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dist-electron/index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;chcp 65001 &amp;&amp; vite&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vue-tsc &amp;&amp; vite build &amp;&amp; electron-builder&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;preview&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite preview&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.4.21&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@vitejs/plugin-vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.0.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;electron&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^29.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;electron-builder&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^24.13.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;typescript&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.2.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vite&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vite-plugin-electron&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.28.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vite-plugin-electron-renderer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.14.5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue-tsc&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.6&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;appId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;com.kanban.app&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;productName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;kanban&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;directories&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;output&quot;</span><span class="punctuation">:</span> <span class="string">&quot;release/$&#123;version&#125;&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;files&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;dist&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;dist-electron&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    </span><br><span class="line">    <span class="attr">&quot;nsis&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;oneClick&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;perMachine&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;allowToChangeInstallationDirectory&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;deleteAppDataOnUninstall&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;win&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;nsis&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;arch&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;x64&quot;</span><span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;artifactName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;productName&#125;-Windows-$&#123;version&#125;-Setup.$&#123;ext&#125;&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;mac&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;dmg&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;artifactName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;productName&#125;-Mac-$&#123;version&#125;-Installer.$&#123;ext&#125;&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;linux&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;AppImage&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;artifactName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;productName&#125;-Linux-$&#123;version&#125;.$&#123;ext&#125;&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 參考來源: electron-vite工具提供的樣板 https://electron-vite.github.io/build/electron-builder.html</span></span><br></pre></td></tr></table></figure></li>
<li>最後要注意在第一次運行 npm run build打包時一定要使用”以系統管理員身分來執行git bash”不然會出現權限不夠導致打包失敗的問題 (參考來源: <a href="https://blog.csdn.net/vifaceeeeee/article/details/134693524">https://blog.csdn.net/vifaceeeeee/article/details/134693524</a>)</li>
</ol>
<h2 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h2><ol>
<li>這裡放上要忽略追蹤的檔案<ol>
<li>加上 dist-electron 和 release 資料夾</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>electron</category>
      </categories>
  </entry>
</search>
